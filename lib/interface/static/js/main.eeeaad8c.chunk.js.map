{"version":3,"sources":["App.tsx","hooks/use-toggle.tsx","components/json-editor/components/title-bar/title-bar.tsx","components/json-editor/components/tool-bar/tool-bar.tsx","components/json-editor/styles.ts","components/json-editor/utils/file.tsx","components/json-editor/utils/json-string.tsx","components/json-editor/json-editor.tsx","components/json-editor/mock-data.ts","Util.tsx","reportWebVitals.ts","index.tsx"],"names":["Editor","useToggle","initialValue","React","useState","toggled","setToggled","toggle","useCallback","v","TitleBar","title","items","key","text","onRender","Text","variant","nowrap","block","CommandBar","styles","root","alignItems","ariaLabel","filterIcon","iconName","containerStyles","margin","itemStyles","display","justifyContent","ToolBar","onClear","onDownloadClick","onSaveClick","onSearch","isValidJson","isReadOnly","console","log","leftItems","iconProps","onClick","disabled","Stack","horizontal","style","Item","SearchBox","placeholder","ev","onChange","_","newValue","undefined","length","BorderLine","downloadJsonFile","jsonString","a","fileName","uuid","blob","Blob","type","window","navigator","msSaveOrOpenBlob","link","document","createElement","body","appendChild","URL","createObjectURL","href","download","click","removeChild","prettifyJsonString","JSON","stringify","parse","err","parseJsonSchemaString","stackStyles","height","borderTop","borderRight","borderBottom","JSONEditor","defaultValue","schemaValue","path","isSchemaSampleDataOn","onSave","success","error","monaco","useMonaco","isAutoPrettifyOn","toggleAutoPrettifyOn","setIsValidJson","editorValue","setEditorValue","editorDefaultValue","setEditorDefaultValue","editorRef","useRef","showSuccess","toggleShowSuccess","showError","toggleShowError","setIsReadOnly","useEffect","prettyDefaultValue","updateEditorLayout","editor","current","layout","width","editorEl","_domElement","getBoundingClientRect","handleJsonSchemasUpdate","languages","json","jsonDefaults","setDiagnosticsOptions","validate","schemas","uri","location","fileMatch","schema","handleEditorPrettify","getAction","run","handleEditorUpdateValue","value","setValue","handleEditorValidation","markers","errorMessage","map","startLineNumber","message","hasContent","getValue","hasError","handleSearch","searchedValue","flattenedUnfilteredValue","flatten","flattenedFilteredValue","Object","entries","reduce","reduced","toReduce","startsWith","assign","unflattenedFilteredValue","unflatten","prettyValue","handleEditorChange","onAutoPrettifyChange","onClearClick","onMinifyClick","minifiedValue","minifyJsonString","onPrettifyClick","onUploadClick","file","fileReader","FileReader","onload","result","readAsText","onFixClick","fixedValue","dirtyJson","formattedValue","MessageBar","onDismiss","messageBarType","MessageBarType","grow","align","language","options","automaticLayout","autoClosingBrackets","autoClosingQuotes","formatOnPaste","formatOnType","scrollBeyondLastLine","onMount","getModel","updateOptions","tabSize","insertSpaces","addEventListener","beforeMount","onValidate","SampleData","flattenObject","obj","flattenPairs","obj_","prefix","isObject","toPairs","final","nPair","flattened","concat","pair","acc","p0","p1","containerStyle","editorStackStyle","getEditorClassNames","isFullWidth","mergeStyleSets","App","isSchemaEditorOn","toggleSchemaSampleDataOn","data","setData","setError","setSuccess","refetch","fetch","then","response","catch","remoteData","toString","persistPUT","split","join","method","statusCode","persistDELETE","wrap","InputJson","lastData","lastDataJSON","dataJSON","lastDeletedDiff","deletedDiff","flattenLastDeletedDiff","deletePromises","keys","lastAddedDiff","addedDiff","flattenLastAddedDiff","addPromises","lastUpdatedDiff","updatedDiff","flattenLastUpdatedDiff","updatePromises","Promise","all","results","some","operationSuccess","AppContainer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById","initializeIcons"],"mappings":"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","file":"static/js/main.eeeaad8c.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { Stack, IStackStyles, mergeStyleSets } from \"@fluentui/react\";\nimport { addedDiff, updatedDiff, deletedDiff } from \"deep-object-diff\";\n\nimport { JSONEditor } from \"./components/json-editor\";\nimport { SampleData } from \"./components/json-editor/mock-data\";\nimport { useToggle } from \"./hooks\";\nimport { flattenObject } from \"./Util\";\n\nenum Editor {\n  Schema = \"Schema\",\n  InputJson = \"Input JSON\",\n}\n\n// Mutating styles definition\nconst containerStyle = (): IStackStyles => {\n  return {\n    root: {\n      height: \"100vh\",\n    },\n  };\n};\n\nconst editorStackStyle: IStackStyles = {\n  root: {\n    height: \"100%\",\n  },\n};\n\nexport const getEditorClassNames = ({ isFullWidth }: { isFullWidth: boolean }): IStackStyles =>\n  mergeStyleSets({\n    root: [\n      {\n        width: \"50%\",\n        height: \"100%\",\n      },\n      isFullWidth && {\n        width: \"100%\",\n        height: \"100%\",\n      },\n    ],\n  });\n\nconst App = (): JSX.Element => {\n  const [isSchemaEditorOn] = useToggle(false);\n  const [isSchemaSampleDataOn, toggleSchemaSampleDataOn] = useToggle(false);\n  const [schemaValue] = useState<string | undefined>(undefined);\n  const [data, setData] = useState<string | undefined>(undefined);\n  const [error, setError] = useState<string | undefined>(undefined);\n  const [success, setSuccess] = useState<string | undefined>(undefined);\n\n  const refetch = async () => {\n    try {\n      fetch(\"http://127.0.0.1:2222/_database\")\n        .then((response) => response.json())\n        .catch((err) => console.log(err))\n        .then((remoteData) => {\n          try {\n            setData(JSON.stringify(remoteData.value));\n          } catch (err) {\n            console.log(err);\n            setError(err.toString());\n          }\n        });\n    } catch (err) {\n      console.log(err);\n      setError(err.toString());\n    }\n  };\n\n  const persistPUT = async (key: string, value: string) => {\n    try {\n      const result = await fetch(`http://127.0.0.1:2222/_database/${key.split(\".\").join(\"/\")}`, {\n        method: \"PUT\",\n        body: JSON.stringify({ value }),\n      }).then((response) => {\n        return response.json();\n      });\n\n      return result.statusCode && result.statusCode === 200;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n\n  const persistDELETE = async (key: string) => {\n    try {\n      const result = await fetch(`http://127.0.0.1:2222/_database/${key.split(\".\").join(\"/\")}`, {\n        method: \"DELETE\",\n      }).then((response) => {\n        return response.json();\n      });\n\n      return result.statusCode && result.statusCode === 200;\n    } catch (err) {\n      console.log(err);\n      return false;\n    }\n  };\n\n  useEffect(() => {\n    refetch();\n  }, []);\n\n  useEffect(() => {\n    if (!isSchemaEditorOn && isSchemaSampleDataOn) {\n      toggleSchemaSampleDataOn();\n    }\n  }, [isSchemaEditorOn, isSchemaSampleDataOn, toggleSchemaSampleDataOn]);\n\n  // const handleValueChange = (value: string) => {\n  //   console.log(\"value changed\");\n  //   console.log(value);\n  // };\n\n  const handleSave = (lastData: string) => {\n    const lastDataJSON = JSON.parse(lastData);\n    const dataJSON = JSON.parse(data!);\n\n    const lastDeletedDiff = deletedDiff(dataJSON, lastDataJSON);\n    const flattenLastDeletedDiff = flattenObject(lastDeletedDiff);\n    const deletePromises = Object.keys(flattenLastDeletedDiff).map((key) => {\n      return persistDELETE(key);\n    });\n\n    const lastAddedDiff = addedDiff(dataJSON, lastDataJSON);\n    const flattenLastAddedDiff = flattenObject(lastAddedDiff);\n    const addPromises = Object.keys(flattenLastAddedDiff).map((key) => {\n      const value = flattenLastAddedDiff[key];\n      return persistPUT(key, value);\n    });\n\n    const lastUpdatedDiff = updatedDiff(dataJSON, lastDataJSON);\n    const flattenLastUpdatedDiff = flattenObject(lastUpdatedDiff);\n    const updatePromises = Object.keys(flattenLastUpdatedDiff).map((key) => {\n      const value = flattenLastAddedDiff[key];\n      return persistPUT(key, value);\n    });\n\n    Promise.all([...addPromises, ...updatePromises, ...deletePromises]).then((results) => {\n      const operationError = results.some((operationSuccess) => {\n        return !operationSuccess;\n      });\n\n      if (operationError) {\n        console.log(\"operation error\");\n        setError(\"\");\n        setError(\"Save failure.\");\n      } else {\n        console.log(\"operation success\");\n        setSuccess(\"\");\n        setSuccess(\"Save success.\");\n      }\n    });\n  };\n\n  const getSchemaValue = () =>\n    isSchemaSampleDataOn && !schemaValue ? SampleData.schema : schemaValue;\n\n  return (\n    <Stack styles={containerStyle}>\n      <Stack wrap horizontal grow styles={editorStackStyle}>\n        <Stack.Item\n          styles={getEditorClassNames({\n            isFullWidth: !isSchemaEditorOn,\n          })}\n        >\n          <JSONEditor\n            title={isSchemaEditorOn ? Editor.InputJson : \"\"}\n            path=\"input_json.json\"\n            schemaValue={getSchemaValue()}\n            isSchemaSampleDataOn={isSchemaSampleDataOn}\n            defaultValue={data}\n            // defaultValue={isSchemaSampleDataOn ? SampleData.jsonInput : undefined}\n            // onChange={handleValueChange}\n            onSave={handleSave}\n            error={error}\n            success={success}\n          />\n        </Stack.Item>\n      </Stack>\n    </Stack>\n  );\n};\n\nconst AppContainer = (): JSX.Element => <App />;\n\nexport default AppContainer;\n","import React from \"react\";\n\ntype CallbackType = (...args: string[]) => void;\n\nexport const useToggle = (initialValue = false): [boolean, () => void] => {\n  const [toggled, setToggled] = React.useState<boolean>(initialValue);\n  const toggle = React.useCallback<CallbackType>(() => {\n    setToggled((v) => !v);\n  }, []);\n  return [toggled, toggle];\n};\n","import React from \"react\";\n\nimport { CommandBar, ICommandBarItemProps, Text } from \"@fluentui/react\";\n\ninterface TitleBarProps {\n  title: string;\n}\nexport const TitleBar: React.FC<TitleBarProps> = ({ title }): JSX.Element => {\n  const items: ICommandBarItemProps[] = [\n    {\n      key: title,\n      text: title,\n      onRender: () => (\n        <Text variant=\"large\" nowrap block>\n          {title}\n        </Text>\n      ),\n    },\n  ];\n  return (\n    <CommandBar\n      styles={{\n        root: {\n          alignItems: \"center\",\n        },\n      }}\n      ariaLabel=\"app title\"\n      items={items}\n    />\n  );\n};\n","import React, { Fragment, useRef } from \"react\";\n\nimport {\n  CommandBar,\n  ICommandBarItemProps,\n  CommandButton,\n  IIconProps,\n  Stack,\n  SearchBox,\n  Text,\n} from \"@fluentui/react\";\n\nconst filterIcon: IIconProps = { iconName: \"Filter\" };\n\nexport interface ToolBarProps {\n  onClear: () => void;\n  onDownloadClick: () => void;\n  onSaveClick: () => void;\n  onSearch: (value: string) => void;\n  onMinifyClick: () => void;\n  onPrettifyClick: () => void;\n  onClearClick: () => void;\n  onAutoPrettifyChange: () => void;\n  onUploadClick: (fileContent: File) => void;\n  onFixClick: () => void;\n  isAutoPrettifyOn: boolean;\n  isValidJson: boolean;\n  isReadOnly: boolean;\n}\n\nconst containerStyles: React.CSSProperties = {\n  margin: \"0 15px\",\n};\n\nconst itemStyles: React.CSSProperties = {\n  alignItems: \"center\",\n  display: \"flex\",\n  justifyContent: \"center\",\n};\n\ninterface FileUploaderProps {\n  onFileHandle: (fileContent: File) => void;\n}\n\n// Need to fix: hover is not working\nexport const FileUploader: React.FC<FileUploaderProps> = ({ onFileHandle }) => {\n  const inputFileRef = useRef<HTMLInputElement>(null);\n\n  const handleUploadClick = () => {\n    if (inputFileRef.current) {\n      inputFileRef.current.value = \"\";\n      inputFileRef.current.click();\n    }\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (!e.target.files) return;\n    const fileUploaded = e.target.files[0];\n    onFileHandle(fileUploaded);\n  };\n\n  const uploadIcon: IIconProps = {\n    iconName: \"Upload\",\n  };\n\n  return (\n    <>\n      <CommandButton iconProps={uploadIcon} text=\"Upload\" onClick={handleUploadClick} />\n      <input\n        ref={inputFileRef}\n        style={{ display: \"none\" }}\n        onChange={handleChange}\n        type=\"file\"\n        accept=\"application/json\"\n      />\n    </>\n  );\n};\n\nexport const ToolBar: React.FC<ToolBarProps> = ({\n  onClear,\n  onDownloadClick,\n  onSaveClick,\n  onSearch,\n  isValidJson,\n  isReadOnly,\n}) => {\n  console.log(\"rendering tool bar ...\");\n  console.log(\"is read only : \");\n  console.log(isReadOnly);\n\n  const leftItems: ICommandBarItemProps[] = [\n    {\n      key: \"download\",\n      text: \"Download Database\",\n      ariaLabel: \"Grid view\",\n      iconProps: { iconName: \"Download\" },\n      onClick: onDownloadClick,\n      disabled: !isValidJson,\n    },\n    {\n      key: \"save\",\n      text: \"Save Changes\",\n      ariaLabel: \"Grid view\",\n      iconProps: { iconName: \"Save\" },\n      onClick: onSaveClick,\n      disabled: !isValidJson || isReadOnly,\n    },\n  ];\n\n  return (\n    <Stack horizontal style={containerStyles}>\n      <Stack.Item style={itemStyles}>\n        <Text variant=\"xLarge\" block>\n          POCDB\n        </Text>\n      </Stack.Item>\n      <Stack.Item style={itemStyles}>\n        <CommandBar\n          styles={{\n            root: {\n              alignItems: \"center\",\n            },\n          }}\n          items={leftItems}\n          ariaLabel=\"json content commands\"\n        />\n      </Stack.Item>\n      <Stack.Item style={itemStyles}>\n        <SearchBox\n          placeholder=\"Filter DB Key\"\n          iconProps={filterIcon}\n          onClear={(ev) => {\n            console.log(ev);\n            onClear();\n          }}\n          onChange={(_, newValue: string | undefined) => {\n            if (newValue !== undefined && newValue.length > 0) {\n              onSearch(newValue);\n            } else {\n              onClear();\n            }\n          }}\n          onSearch={(newValue: string | undefined) => {\n            if (newValue !== undefined && newValue.length > 0) {\n              onSearch(newValue);\n            } else {\n              onClear();\n            }\n          }}\n        />\n      </Stack.Item>\n    </Stack>\n  );\n};\n","export const BorderLine = \"1px solid rgb(237, 235, 233)\";\n","import { v4 as uuid } from \"uuid\";\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const downloadJsonFile = async (jsonString: string) => {\n  const fileName = uuid();\n  // Set the HREF to a Blob representation of the data to be downloaded\n  const blob = new Blob([jsonString], { type: \"application/json\" });\n  if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n    // for IE\n    window.navigator.msSaveOrOpenBlob(blob, fileName);\n  } else {\n    // for Non-IE (chrome, firefox etc.)\n\n    try {\n      // create an invisible A element\n      const link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      document.body.appendChild(link);\n\n      const href = await window.URL.createObjectURL(blob);\n      // blob ready, download it\n      link.href = href;\n      link.download = `${fileName}.json`;\n\n      // trigger the download by simulating click\n      link.click();\n\n      // cleanup\n      window.document.body.removeChild(link);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.log(\"Error: fail to download a file.\");\n    }\n  }\n};\n","/**\n * Minify a Json string\n */\nexport const minifyJsonString = (jsonString: string): string => {\n  try {\n    return JSON.stringify(JSON.parse(jsonString), null);\n  } catch (err) {\n    return jsonString;\n  }\n};\n\n/**\n * Prettify/Format Json string\n */\nexport const prettifyJsonString = (jsonString: string): string => {\n  try {\n    return JSON.stringify(JSON.parse(jsonString), null, \"\\t\");\n  } catch (err) {\n    return jsonString;\n  }\n};\n\nexport const parseJsonSchemaString = (jsonString: string): Record<string, unknown> => {\n  try {\n    return JSON.parse(jsonString);\n  } catch (err) {\n    // try to throw a more detailed error message using validate\n    // validateString(jsonString);\n    // rethrow the original error\n    return {};\n  }\n};\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\n\nimport { Stack, IStackStyles, MessageBar, MessageBarType } from \"@fluentui/react\";\nimport Editor, { useMonaco, BeforeMount, OnMount, OnValidate } from \"@monaco-editor/react\";\nimport dirtyJson from \"dirty-json\";\nimport { flatten, unflatten } from \"flat\";\nimport * as Monaco from \"monaco-editor/esm/vs/editor/editor.api\";\n\nimport { useToggle } from \"../../hooks\";\nimport { TitleBar } from \"./components/title-bar\";\nimport { ToolBar } from \"./components/tool-bar\";\nimport { BorderLine } from \"./styles\";\nimport {\n  downloadJsonFile,\n  minifyJsonString,\n  prettifyJsonString,\n  parseJsonSchemaString,\n} from \"./utils\";\n\nconst stackStyles: IStackStyles = {\n  root: {\n    height: \"inherit\",\n    borderTop: BorderLine,\n    borderRight: BorderLine,\n    borderBottom: BorderLine,\n  },\n};\n\ninterface JSONEditorProps {\n  defaultValue?: string;\n  schemaValue?: string;\n  title?: string;\n  path?: string;\n  isSchemaSampleDataOn: boolean;\n  onChange?: (value: string) => void;\n  onSave?: (value: string) => void;\n  success?: string;\n  error?: string;\n}\n\ninterface RefObject extends Monaco.editor.ICodeEditor {\n  _domElement?: HTMLElement;\n}\n\nexport const JSONEditor: React.FC<JSONEditorProps> = ({\n  defaultValue,\n  schemaValue,\n  title,\n  path = \"\",\n  isSchemaSampleDataOn,\n  onChange,\n  onSave,\n  success,\n  error,\n}): JSX.Element => {\n  const monaco = useMonaco();\n  const [isAutoPrettifyOn, toggleAutoPrettifyOn] = useToggle(false);\n  const [isValidJson, setIsValidJson] = useState<boolean>(false);\n  const [editorValue, setEditorValue] = useState<string>();\n  const [editorDefaultValue, setEditorDefaultValue] = useState<string>();\n  const editorRef = useRef<RefObject | null>(null);\n  const [showSuccess, toggleShowSuccess] = useToggle(false);\n  const [showError, toggleShowError] = useToggle(false);\n  const [isReadOnly, setIsReadOnly] = useState<boolean>(false);\n\n  useEffect(() => {\n    const prettyDefaultValue = defaultValue ? prettifyJsonString(defaultValue) : undefined;\n    setEditorDefaultValue(prettyDefaultValue);\n  }, [defaultValue]);\n\n  useEffect(() => {\n    if (success) {\n      toggleShowSuccess();\n    }\n  }, [success, toggleShowSuccess]);\n\n  useEffect(() => {\n    if (error) {\n      toggleShowError();\n    }\n  }, [error, toggleShowError]);\n\n  const updateEditorLayout = useCallback(() => {\n    // Type BUG: editor.IDimension.width & editor.IDimension.height should be \"number\"\n    // but it needs to have \"auto\" otherwise layout can't be updated;\n    // eslint-disable-next-line\n    const editor: any = editorRef.current;\n    if (!editor) return;\n    // Initialize layout's width and height\n    editor.layout({\n      width: \"auto\",\n      height: \"auto\",\n    });\n    // eslint-disable-next-line\n    const editorEl = editor._domElement;\n    if (!editorEl) return;\n    const { width, height } = editorEl.getBoundingClientRect();\n    // update responsive width and height\n    editor.layout({\n      width,\n      height,\n    });\n  }, []);\n\n  const handleJsonSchemasUpdate = useCallback(() => {\n    monaco?.languages.json.jsonDefaults.setDiagnosticsOptions({\n      validate: true,\n      schemas: schemaValue\n        ? [\n            {\n              uri: window.location.href, // id of the first schema\n              fileMatch: [\"*\"], // associate with our model\n              schema: {\n                ...parseJsonSchemaString(schemaValue),\n              },\n            },\n          ]\n        : undefined,\n    });\n  }, [schemaValue, monaco]);\n\n  const handleEditorPrettify = useCallback(() => {\n    editorRef.current?.getAction(\"editor.action.formatDocument\").run();\n  }, []);\n\n  const handleEditorUpdateValue = useCallback((value?: string) => {\n    const editor = editorRef.current;\n    if (!editor) return;\n    editor.setValue(value || \"\");\n    value && editor.getAction(\"editor.action.formatDocument\").run();\n  }, []);\n\n  const handleClearClick = () => editorRef.current?.setValue(\"\");\n\n  const handleEditorWillMount: BeforeMount = () => handleJsonSchemasUpdate();\n\n  const handleEditorDidMount: OnMount = (editor) => {\n    editorRef.current = editor;\n\n    editor.getModel()?.updateOptions({ tabSize: 2, insertSpaces: false });\n    updateEditorLayout();\n\n    window.addEventListener(\"resize\", () => {\n      // automaticLayout isn't working\n      // https://github.com/suren-atoyan/monaco-react/issues/89#issuecomment-666581193\n      // clear current layout\n      updateEditorLayout();\n    });\n\n    // need to use formatted prettify json string\n    defaultValue && handleEditorUpdateValue(prettifyJsonString(defaultValue));\n  };\n\n  useEffect(() => {\n    handleEditorUpdateValue(defaultValue);\n  }, [defaultValue, handleEditorUpdateValue]);\n\n  useEffect(() => {\n    handleJsonSchemasUpdate();\n  }, [schemaValue, handleJsonSchemasUpdate]);\n\n  useEffect(() => {\n    updateEditorLayout();\n  }, [isSchemaSampleDataOn, updateEditorLayout]);\n\n  useEffect(() => {\n    isAutoPrettifyOn && handleEditorPrettify();\n  }, [isAutoPrettifyOn, handleEditorPrettify]);\n\n  const handleEditorValidation: OnValidate = useCallback((markers) => {\n    const errorMessage = markers.map(\n      ({ startLineNumber, message }) => `line ${startLineNumber}: ${message}`\n    );\n    const hasContent = editorRef.current?.getValue();\n    const hasError: boolean = errorMessage.length > 0;\n    setIsValidJson(!!hasContent && !hasError);\n  }, []);\n\n  const handleMinifyClick = () => {\n    const editor = editorRef.current;\n    if (!editor) return;\n    const value = editor.getValue();\n    const minifiedValue = minifyJsonString(value);\n    editor.setValue(minifiedValue);\n  };\n\n  const handleUploadClick = (file: File) => {\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      const result = fileReader.result as string;\n      handleEditorUpdateValue(result);\n    };\n    fileReader.readAsText(file);\n  };\n\n  const handleDownloadClick = () => {\n    const value = editorRef.current?.getValue();\n    value && downloadJsonFile(value);\n  };\n\n  const handleSaveClick = () => {\n    const value = editorRef.current?.getValue();\n    value && onSave && onSave(value);\n  };\n\n  const handleSearch = (searchedValue: string | undefined) => {\n    if (defaultValue === undefined) return;\n\n    if (searchedValue !== undefined) {\n      setIsReadOnly(true);\n\n      const flattenedUnfilteredValue = flatten(JSON.parse(defaultValue));\n      const flattenedFilteredValue = Object.entries(flattenedUnfilteredValue).reduce(\n        (reduced, [key, value]) => {\n          let toReduce: { [k: string]: any } = reduced;\n          if (key.startsWith(searchedValue)) {\n            toReduce = Object.assign(toReduce, { [key]: value });\n          }\n          return toReduce;\n        },\n        {}\n      );\n      const unflattenedFilteredValue = unflatten(flattenedFilteredValue);\n\n      const prettyValue = unflattenedFilteredValue\n        ? prettifyJsonString(JSON.stringify(unflattenedFilteredValue))\n        : undefined;\n\n      setEditorValue(prettyValue);\n    } else {\n      setIsReadOnly(false);\n      const prettyValue = defaultValue ? prettifyJsonString(defaultValue) : undefined;\n      setEditorValue(prettyValue);\n    }\n  };\n\n  const handleClearSearch = () => {\n    handleSearch(undefined);\n  };\n\n  const handleEditorChange = useCallback(\n    (value) => {\n      isAutoPrettifyOn && handleEditorPrettify();\n      onChange && onChange(value);\n    },\n    [isAutoPrettifyOn, handleEditorPrettify, onChange]\n  );\n\n  const handleFixClick = () => {\n    const editor = editorRef.current;\n    const value = editor && editor.getValue();\n    const fixedValue = value && dirtyJson.parse(value);\n    const formattedValue = fixedValue && prettifyJsonString(JSON.stringify(fixedValue));\n    editor && editor.setValue(formattedValue);\n  };\n\n  return (\n    <Stack styles={stackStyles}>\n      {title && (\n        <Stack.Item>\n          <TitleBar title={title} />\n        </Stack.Item>\n      )}\n      <Stack.Item>\n        <ToolBar\n          isValidJson={isValidJson}\n          isAutoPrettifyOn={isAutoPrettifyOn}\n          onClear={handleClearSearch}\n          onDownloadClick={handleDownloadClick}\n          onSaveClick={handleSaveClick}\n          onAutoPrettifyChange={toggleAutoPrettifyOn}\n          onClearClick={handleClearClick}\n          onMinifyClick={handleMinifyClick}\n          onPrettifyClick={handleEditorPrettify}\n          onUploadClick={handleUploadClick}\n          onFixClick={handleFixClick}\n          onSearch={handleSearch}\n          isReadOnly={isReadOnly}\n        />\n      </Stack.Item>\n      {showError && (\n        <Stack.Item>\n          <MessageBar onDismiss={() => toggleShowError()} messageBarType={MessageBarType.error}>\n            {error}\n          </MessageBar>\n        </Stack.Item>\n      )}\n      {showSuccess && (\n        <Stack.Item>\n          <MessageBar onDismiss={() => toggleShowSuccess()} messageBarType={MessageBarType.success}>\n            {success}\n          </MessageBar>\n        </Stack.Item>\n      )}\n      <Stack styles={stackStyles}>\n        <Stack.Item\n          grow\n          align=\"stretch\"\n          style={{\n            height: `calc(100% - 20vh)`,\n          }}\n        >\n          <Editor\n            language=\"json\"\n            path={path}\n            options={{\n              automaticLayout: true,\n              autoClosingBrackets: \"always\",\n              autoClosingQuotes: \"always\",\n              formatOnPaste: true,\n              formatOnType: true,\n              scrollBeyondLastLine: false,\n            }}\n            onMount={handleEditorDidMount}\n            onChange={handleEditorChange}\n            beforeMount={handleEditorWillMount}\n            onValidate={handleEditorValidation}\n            defaultValue={editorDefaultValue}\n            value={editorValue}\n          />\n        </Stack.Item>\n      </Stack>\n    </Stack>\n  );\n};\n","export const validFormattedJsonInput = `{\n\t\"name\": \"Sujin Lee\",\n\t\"email\": \"sujinlee.me@gmail.com\",\n\t\"date_of_birth\": \"1990-01-01\"\n}`;\n\nexport const invalidFormattedJsonInput = `\n\t\"name\": \"Sujin Lee\",\n\t\"email\": \"sujinlee.me@gmail.com\",\n\t\"date_of_birth\": \"1990-01-01\"\n}`;\n\nexport const validMinifiedJsonInput = `{\"name\":\"Sujin Lee\",\"email\":\"sujinlee.me@gmail.com\",\"date_of_birth\":\"1990-01-01\"}`;\n\nexport const invalidMinifiedJsonInput = `name\":\"Sujin Lee\",\"email\":\"sujinlee.me@gmail.com\",\"date_of_birth\":\"1990-01-01\"}`;\n\nexport const schema = `{ \"name\": \"sample schema\", \"type\": \"object\", \"properties\": { \"name\": { \"title\": \"Name\", \"type\": \"string\", \"description\": \"Users full name supporting unicode but no emojis.\", \"maxLength\": 20 }, \"email\": { \"title\": \"Email\", \"description\": \"Like a postal address but for computers.\", \"type\": \"string\", \"format\": \"email\" }, \"date_of_birth\": { \"title\": \"Date Of Birth\", \"type\": \"string\", \"description\": \"Date of uses birth in the one and only date standard: ISO 8601.\", \"format\": \"date\", \"example\": \"1990–12–28\" } }, \"required\": [ \"name\" ] }`;\n\nexport const SampleData = {\n  jsonInput: validMinifiedJsonInput,\n  schema,\n};\n","import _ from \"lodash\";\n\nexport const flattenObject = (obj: any): any => {\n  function flattenPairs(obj_: any, prefix: string): [string, any][] {\n    if (!_.isObject(obj_)) {\n      return [prefix, obj_];\n    }\n\n    return _.toPairs(obj_).reduce((final: [string, any][], nPair: [string, any]) => {\n      const flattened = flattenPairs(nPair[1], `${prefix}.${nPair[0]}`);\n      if (flattened.length === 2 && !_.isObject(flattened[0]) && !_.isObject(flattened[1])) {\n        return final.concat([flattened as [string, any]]);\n      }\n\n      return final.concat(flattened);\n    }, []);\n  }\n\n  if (!_.isObject(obj)) {\n    return JSON.stringify(obj);\n  }\n\n  const pairs: [string, any][] = _.toPairs(obj).reduce(\n    (final: [string, any][], pair: [string, any]) => {\n      const flattened = flattenPairs(pair[1], pair[0]);\n      if (flattened.length === 2 && !_.isObject(flattened[0]) && !_.isObject(flattened[1])) {\n        return final.concat([flattened as [string, any]]);\n      }\n      return final.concat(flattened);\n    },\n    []\n  );\n\n  return pairs.reduce((acc: any, pair: [string, any]) => {\n    const [p0, p1] = pair;\n    acc[p0] = p1;\n    return acc;\n  }, {});\n};\n","import { ReportHandler } from \"web-vitals\";\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\n\nimport { initializeIcons } from \"@fluentui/react/lib/Icons\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./index.css\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <App />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n// Library icon registration\ninitializeIcons();\n"],"sourceRoot":""}